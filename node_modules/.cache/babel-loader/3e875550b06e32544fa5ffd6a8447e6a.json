{"ast":null,"code":"'use strict';\n\nconst utils = require('../../utils');\n\nconst keysToSkip = new Set(['__index', '__parentArray', '_doc']);\n/**\n * Using spread operator on a Mongoose document gives you a\n * POJO that has a tendency to cause infinite recursion. So\n * we use this function on `set()` to prevent that.\n */\n\nmodule.exports = function handleSpreadDoc(v, includeExtraKeys) {\n  if (utils.isPOJO(v) && v.$__ != null && v._doc != null) {\n    if (includeExtraKeys) {\n      const extraKeys = {};\n\n      for (const key of Object.keys(v)) {\n        if (typeof key === 'symbol') {\n          continue;\n        }\n\n        if (key[0] === '$') {\n          continue;\n        }\n\n        if (keysToSkip.has(key)) {\n          continue;\n        }\n\n        extraKeys[key] = v[key];\n      }\n\n      return { ...v._doc,\n        ...extraKeys\n      };\n    }\n\n    return v._doc;\n  }\n\n  return v;\n};","map":{"version":3,"names":["utils","require","keysToSkip","Set","module","exports","handleSpreadDoc","v","includeExtraKeys","isPOJO","$__","_doc","extraKeys","key","Object","keys","has"],"sources":["B:/web_project_react/web_car_react/node_modules/mongoose/lib/helpers/document/handleSpreadDoc.js"],"sourcesContent":["'use strict';\n\nconst utils = require('../../utils');\n\nconst keysToSkip = new Set(['__index', '__parentArray', '_doc']);\n\n/**\n * Using spread operator on a Mongoose document gives you a\n * POJO that has a tendency to cause infinite recursion. So\n * we use this function on `set()` to prevent that.\n */\n\nmodule.exports = function handleSpreadDoc(v, includeExtraKeys) {\n  if (utils.isPOJO(v) && v.$__ != null && v._doc != null) {\n    if (includeExtraKeys) {\n      const extraKeys = {};\n      for (const key of Object.keys(v)) {\n        if (typeof key === 'symbol') {\n          continue;\n        }\n        if (key[0] === '$') {\n          continue;\n        }\n        if (keysToSkip.has(key)) {\n          continue;\n        }\n        extraKeys[key] = v[key];\n      }\n      return { ...v._doc, ...extraKeys };\n    }\n    return v._doc;\n  }\n\n  return v;\n};"],"mappings":"AAAA;;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,aAAD,CAArB;;AAEA,MAAMC,UAAU,GAAG,IAAIC,GAAJ,CAAQ,CAAC,SAAD,EAAY,eAAZ,EAA6B,MAA7B,CAAR,CAAnB;AAEA;AACA;AACA;AACA;AACA;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,eAAT,CAAyBC,CAAzB,EAA4BC,gBAA5B,EAA8C;EAC7D,IAAIR,KAAK,CAACS,MAAN,CAAaF,CAAb,KAAmBA,CAAC,CAACG,GAAF,IAAS,IAA5B,IAAoCH,CAAC,CAACI,IAAF,IAAU,IAAlD,EAAwD;IACtD,IAAIH,gBAAJ,EAAsB;MACpB,MAAMI,SAAS,GAAG,EAAlB;;MACA,KAAK,MAAMC,GAAX,IAAkBC,MAAM,CAACC,IAAP,CAAYR,CAAZ,CAAlB,EAAkC;QAChC,IAAI,OAAOM,GAAP,KAAe,QAAnB,EAA6B;UAC3B;QACD;;QACD,IAAIA,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;UAClB;QACD;;QACD,IAAIX,UAAU,CAACc,GAAX,CAAeH,GAAf,CAAJ,EAAyB;UACvB;QACD;;QACDD,SAAS,CAACC,GAAD,CAAT,GAAiBN,CAAC,CAACM,GAAD,CAAlB;MACD;;MACD,OAAO,EAAE,GAAGN,CAAC,CAACI,IAAP;QAAa,GAAGC;MAAhB,CAAP;IACD;;IACD,OAAOL,CAAC,CAACI,IAAT;EACD;;EAED,OAAOJ,CAAP;AACD,CAtBD"},"metadata":{},"sourceType":"script"}