{"ast":null,"code":"'use strict';\n\nconst Document = require('../document');\n\nconst immediate = require('../helpers/immediate');\n\nconst internalToObjectOptions = require('../options').internalToObjectOptions;\n\nconst promiseOrCallback = require('../helpers/promiseOrCallback');\n\nconst util = require('util');\n\nconst utils = require('../utils');\n\nmodule.exports = Subdocument;\n/**\n * Subdocument constructor.\n *\n * @inherits Document\n * @api private\n */\n\nfunction Subdocument(value, fields, parent, skipId, options) {\n  if (parent != null) {\n    // If setting a nested path, should copy isNew from parent re: gh-7048\n    const parentOptions = {\n      isNew: parent.isNew\n    };\n\n    if ('defaults' in parent.$__) {\n      parentOptions.defaults = parent.$__.defaults;\n    }\n\n    options = Object.assign(parentOptions, options);\n  }\n\n  if (options != null && options.path != null) {\n    this.$basePath = options.path;\n  }\n\n  Document.call(this, value, fields, skipId, options);\n  delete this.$__.priorDoc;\n}\n\nSubdocument.prototype = Object.create(Document.prototype);\nObject.defineProperty(Subdocument.prototype, '$isSubdocument', {\n  configurable: false,\n  writable: false,\n  value: true\n});\nObject.defineProperty(Subdocument.prototype, '$isSingleNested', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n/*!\n * ignore\n */\n\nSubdocument.prototype.toBSON = function () {\n  return this.toObject(internalToObjectOptions);\n};\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @return {Promise} resolved Promise\n * @api private\n */\n\n\nSubdocument.prototype.save = function (options, fn) {\n  if (typeof options === 'function') {\n    fn = options;\n    options = {};\n  }\n\n  options = options || {};\n\n  if (!options.suppressWarning) {\n    utils.warn('mongoose: calling `save()` on a subdoc does **not** save ' + 'the document to MongoDB, it only runs save middleware. ' + 'Use `subdoc.save({ suppressWarning: true })` to hide this warning ' + 'if you\\'re sure this behavior is right for your app.');\n  }\n\n  return promiseOrCallback(fn, cb => {\n    this.$__save(cb);\n  });\n};\n/*!\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n */\n\n\nSubdocument.prototype.$__fullPath = function (path) {\n  if (!this.$__.fullPath) {\n    this.ownerDocument();\n  }\n\n  return path ? this.$__.fullPath + '.' + path : this.$__.fullPath;\n};\n/*!\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n */\n\n\nSubdocument.prototype.$__pathRelativeToParent = function (p) {\n  if (p == null) {\n    return this.$basePath;\n  }\n\n  return [this.$basePath, p].join('.');\n};\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @method $__save\n * @api private\n */\n\n\nSubdocument.prototype.$__save = function (fn) {\n  return immediate(() => fn(null, this));\n};\n/*!\n * ignore\n */\n\n\nSubdocument.prototype.$isValid = function (path) {\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n\n  if (parent != null && fullPath != null) {\n    return parent.$isValid(fullPath);\n  }\n\n  return Document.prototype.$isValid.call(this, path);\n};\n/*!\n * ignore\n */\n\n\nSubdocument.prototype.markModified = function (path) {\n  Document.prototype.markModified.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n\n  if (parent == null || fullPath == null) {\n    return;\n  }\n\n  const myPath = this.$__pathRelativeToParent().replace(/\\.$/, '');\n\n  if (parent.isDirectModified(myPath) || this.isNew) {\n    return;\n  }\n\n  this.$__parent.markModified(fullPath, this);\n};\n/*!\n * ignore\n */\n\n\nSubdocument.prototype.isModified = function (paths, modifiedPaths) {\n  const parent = this.$parent();\n\n  if (parent != null) {\n    if (Array.isArray(paths) || typeof paths === 'string') {\n      paths = Array.isArray(paths) ? paths : paths.split(' ');\n      paths = paths.map(p => this.$__pathRelativeToParent(p)).filter(p => p != null);\n    } else if (!paths) {\n      paths = this.$__pathRelativeToParent();\n    }\n\n    return parent.$isModified(paths, modifiedPaths);\n  }\n\n  return Document.prototype.isModified.call(this, paths, modifiedPaths);\n};\n/**\n * Marks a path as valid, removing existing validation errors.\n *\n * @param {String} path the field to mark as valid\n * @api private\n * @method $markValid\n * @receiver Subdocument\n */\n\n\nSubdocument.prototype.$markValid = function (path) {\n  Document.prototype.$markValid.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n\n  if (parent != null && fullPath != null) {\n    parent.$markValid(fullPath);\n  }\n};\n/*!\n * ignore\n */\n\n\nSubdocument.prototype.invalidate = function (path, err, val) {\n  Document.prototype.invalidate.call(this, path, err, val);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n\n  if (parent != null && fullPath != null) {\n    parent.invalidate(fullPath, err, val);\n  } else if (err.kind === 'cast' || err.name === 'CastError' || fullPath == null) {\n    throw err;\n  }\n\n  return this.ownerDocument().$__.validationError;\n};\n/*!\n * ignore\n */\n\n\nSubdocument.prototype.$ignore = function (path) {\n  Document.prototype.$ignore.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n\n  if (parent != null && fullPath != null) {\n    parent.$ignore(fullPath);\n  }\n};\n/**\n * Returns the top level document of this sub-document.\n *\n * @return {Document}\n */\n\n\nSubdocument.prototype.ownerDocument = function () {\n  if (this.$__.ownerDocument) {\n    return this.$__.ownerDocument;\n  }\n\n  let parent = this; // eslint-disable-line consistent-this\n\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n\n    paths.unshift(parent.$__pathRelativeToParent(void 0, true));\n\n    const _parent = parent.$parent();\n\n    if (_parent == null) {\n      break;\n    }\n\n    parent = _parent;\n\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  this.$__.fullPath = paths.join('.');\n  this.$__.ownerDocument = parent;\n  return this.$__.ownerDocument;\n};\n/*!\n * ignore\n */\n\n\nSubdocument.prototype.$__fullPathWithIndexes = function () {\n  let parent = this; // eslint-disable-line consistent-this\n\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n\n    paths.unshift(parent.$__pathRelativeToParent(void 0, false));\n\n    const _parent = parent.$parent();\n\n    if (_parent == null) {\n      break;\n    }\n\n    parent = _parent;\n\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  return paths.join('.');\n};\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n */\n\n\nSubdocument.prototype.parent = function () {\n  return this.$__parent;\n};\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n * @method $parent\n */\n\n\nSubdocument.prototype.$parent = Subdocument.prototype.parent;\n/*!\n * no-op for hooks\n */\n\nSubdocument.prototype.$__remove = function (cb) {\n  if (cb == null) {\n    return;\n  }\n\n  return cb(null, this);\n};\n\nSubdocument.prototype.$__removeFromParent = function () {\n  this.$__parent.set(this.$basePath, null);\n};\n/**\n * Null-out this subdoc\n *\n * @param {Object} [options]\n * @param {Function} [callback] optional callback for compatibility with Document.prototype.remove\n */\n\n\nSubdocument.prototype.remove = function (options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n\n  registerRemoveListener(this); // If removing entire doc, no need to remove subdoc\n\n  if (!options || !options.noop) {\n    this.$__removeFromParent();\n  }\n\n  return this.$__remove(callback);\n};\n/*!\n * ignore\n */\n\n\nSubdocument.prototype.populate = function () {\n  throw new Error('Mongoose does not support calling populate() on nested ' + 'docs. Instead of `doc.nested.populate(\"path\")`, use ' + '`doc.populate(\"nested.path\")`');\n};\n/**\n * Helper for console.log\n *\n * @api public\n */\n\n\nSubdocument.prototype.inspect = function () {\n  return this.toObject({\n    transform: false,\n    virtuals: false,\n    flattenDecimals: false\n  });\n};\n\nif (util.inspect.custom) {\n  /*!\n  * Avoid Node deprecation warning DEP0079\n  */\n  Subdocument.prototype[util.inspect.custom] = Subdocument.prototype.inspect;\n}\n/*!\n * Registers remove event listeners for triggering\n * on subdocuments.\n *\n * @param {Subdocument} sub\n * @api private\n */\n\n\nfunction registerRemoveListener(sub) {\n  let owner = sub.ownerDocument();\n\n  function emitRemove() {\n    owner.$removeListener('save', emitRemove);\n    owner.$removeListener('remove', emitRemove);\n    sub.emit('remove', sub);\n    sub.constructor.emit('remove', sub);\n    owner = sub = null;\n  }\n\n  owner.$on('save', emitRemove);\n  owner.$on('remove', emitRemove);\n}","map":{"version":3,"names":["Document","require","immediate","internalToObjectOptions","promiseOrCallback","util","utils","module","exports","Subdocument","value","fields","parent","skipId","options","parentOptions","isNew","$__","defaults","Object","assign","path","$basePath","call","priorDoc","prototype","create","defineProperty","configurable","writable","toBSON","toObject","save","fn","suppressWarning","warn","cb","$__save","$__fullPath","fullPath","ownerDocument","$__pathRelativeToParent","p","join","$isValid","$parent","markModified","myPath","replace","isDirectModified","$__parent","isModified","paths","modifiedPaths","Array","isArray","split","map","filter","$isModified","$markValid","invalidate","err","val","kind","name","validationError","$ignore","seenDocs","Set","unshift","_parent","has","Error","_id","add","$__fullPathWithIndexes","$__remove","$__removeFromParent","set","remove","callback","registerRemoveListener","noop","populate","inspect","transform","virtuals","flattenDecimals","custom","sub","owner","emitRemove","$removeListener","emit","constructor","$on"],"sources":["B:/web_project_react/web_car_react/node_modules/mongoose/lib/types/subdocument.js"],"sourcesContent":["'use strict';\n\nconst Document = require('../document');\nconst immediate = require('../helpers/immediate');\nconst internalToObjectOptions = require('../options').internalToObjectOptions;\nconst promiseOrCallback = require('../helpers/promiseOrCallback');\nconst util = require('util');\nconst utils = require('../utils');\n\nmodule.exports = Subdocument;\n\n/**\n * Subdocument constructor.\n *\n * @inherits Document\n * @api private\n */\n\nfunction Subdocument(value, fields, parent, skipId, options) {\n  if (parent != null) {\n    // If setting a nested path, should copy isNew from parent re: gh-7048\n    const parentOptions = { isNew: parent.isNew };\n    if ('defaults' in parent.$__) {\n      parentOptions.defaults = parent.$__.defaults;\n    }\n    options = Object.assign(parentOptions, options);\n  }\n  if (options != null && options.path != null) {\n    this.$basePath = options.path;\n  }\n  Document.call(this, value, fields, skipId, options);\n\n  delete this.$__.priorDoc;\n}\n\nSubdocument.prototype = Object.create(Document.prototype);\n\nObject.defineProperty(Subdocument.prototype, '$isSubdocument', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\nObject.defineProperty(Subdocument.prototype, '$isSingleNested', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.toBSON = function() {\n  return this.toObject(internalToObjectOptions);\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @return {Promise} resolved Promise\n * @api private\n */\n\nSubdocument.prototype.save = function(options, fn) {\n  if (typeof options === 'function') {\n    fn = options;\n    options = {};\n  }\n  options = options || {};\n\n  if (!options.suppressWarning) {\n    utils.warn('mongoose: calling `save()` on a subdoc does **not** save ' +\n      'the document to MongoDB, it only runs save middleware. ' +\n      'Use `subdoc.save({ suppressWarning: true })` to hide this warning ' +\n      'if you\\'re sure this behavior is right for your app.');\n  }\n\n  return promiseOrCallback(fn, cb => {\n    this.$__save(cb);\n  });\n};\n\n/*!\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n */\n\nSubdocument.prototype.$__fullPath = function(path) {\n  if (!this.$__.fullPath) {\n    this.ownerDocument();\n  }\n\n  return path ?\n    this.$__.fullPath + '.' + path :\n    this.$__.fullPath;\n};\n\n/*!\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n */\n\nSubdocument.prototype.$__pathRelativeToParent = function(p) {\n  if (p == null) {\n    return this.$basePath;\n  }\n  return [this.$basePath, p].join('.');\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @method $__save\n * @api private\n */\n\nSubdocument.prototype.$__save = function(fn) {\n  return immediate(() => fn(null, this));\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$isValid = function(path) {\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    return parent.$isValid(fullPath);\n  }\n  return Document.prototype.$isValid.call(this, path);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.markModified = function(path) {\n  Document.prototype.markModified.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n\n  if (parent == null || fullPath == null) {\n    return;\n  }\n\n  const myPath = this.$__pathRelativeToParent().replace(/\\.$/, '');\n  if (parent.isDirectModified(myPath) || this.isNew) {\n    return;\n  }\n  this.$__parent.markModified(fullPath, this);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.isModified = function(paths, modifiedPaths) {\n  const parent = this.$parent();\n  if (parent != null) {\n    if (Array.isArray(paths) || typeof paths === 'string') {\n      paths = (Array.isArray(paths) ? paths : paths.split(' '));\n      paths = paths.map(p => this.$__pathRelativeToParent(p)).filter(p => p != null);\n    } else if (!paths) {\n      paths = this.$__pathRelativeToParent();\n    }\n\n    return parent.$isModified(paths, modifiedPaths);\n  }\n\n  return Document.prototype.isModified.call(this, paths, modifiedPaths);\n};\n\n/**\n * Marks a path as valid, removing existing validation errors.\n *\n * @param {String} path the field to mark as valid\n * @api private\n * @method $markValid\n * @receiver Subdocument\n */\n\nSubdocument.prototype.$markValid = function(path) {\n  Document.prototype.$markValid.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$markValid(fullPath);\n  }\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.invalidate = function(path, err, val) {\n  Document.prototype.invalidate.call(this, path, err, val);\n\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.invalidate(fullPath, err, val);\n  } else if (err.kind === 'cast' || err.name === 'CastError' || fullPath == null) {\n    throw err;\n  }\n\n  return this.ownerDocument().$__.validationError;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$ignore = function(path) {\n  Document.prototype.$ignore.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$ignore(fullPath);\n  }\n};\n\n/**\n * Returns the top level document of this sub-document.\n *\n * @return {Document}\n */\n\nSubdocument.prototype.ownerDocument = function() {\n  if (this.$__.ownerDocument) {\n    return this.$__.ownerDocument;\n  }\n\n  let parent = this; // eslint-disable-line consistent-this\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, true));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  this.$__.fullPath = paths.join('.');\n\n  this.$__.ownerDocument = parent;\n  return this.$__.ownerDocument;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$__fullPathWithIndexes = function() {\n  let parent = this; // eslint-disable-line consistent-this\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, false));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  return paths.join('.');\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n */\n\nSubdocument.prototype.parent = function() {\n  return this.$__parent;\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n * @method $parent\n */\n\nSubdocument.prototype.$parent = Subdocument.prototype.parent;\n\n/*!\n * no-op for hooks\n */\n\nSubdocument.prototype.$__remove = function(cb) {\n  if (cb == null) {\n    return;\n  }\n  return cb(null, this);\n};\n\nSubdocument.prototype.$__removeFromParent = function() {\n  this.$__parent.set(this.$basePath, null);\n};\n\n/**\n * Null-out this subdoc\n *\n * @param {Object} [options]\n * @param {Function} [callback] optional callback for compatibility with Document.prototype.remove\n */\n\nSubdocument.prototype.remove = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  registerRemoveListener(this);\n\n  // If removing entire doc, no need to remove subdoc\n  if (!options || !options.noop) {\n    this.$__removeFromParent();\n  }\n\n  return this.$__remove(callback);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.populate = function() {\n  throw new Error('Mongoose does not support calling populate() on nested ' +\n    'docs. Instead of `doc.nested.populate(\"path\")`, use ' +\n    '`doc.populate(\"nested.path\")`');\n};\n\n/**\n * Helper for console.log\n *\n * @api public\n */\n\nSubdocument.prototype.inspect = function() {\n  return this.toObject({\n    transform: false,\n    virtuals: false,\n    flattenDecimals: false\n  });\n};\n\nif (util.inspect.custom) {\n  /*!\n  * Avoid Node deprecation warning DEP0079\n  */\n\n  Subdocument.prototype[util.inspect.custom] = Subdocument.prototype.inspect;\n}\n\n/*!\n * Registers remove event listeners for triggering\n * on subdocuments.\n *\n * @param {Subdocument} sub\n * @api private\n */\n\nfunction registerRemoveListener(sub) {\n  let owner = sub.ownerDocument();\n\n  function emitRemove() {\n    owner.$removeListener('save', emitRemove);\n    owner.$removeListener('remove', emitRemove);\n    sub.emit('remove', sub);\n    sub.constructor.emit('remove', sub);\n    owner = sub = null;\n  }\n\n  owner.$on('save', emitRemove);\n  owner.$on('remove', emitRemove);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}