{"ast":null,"code":"import _asyncToGenerator from\"B:/web_project_react/web_car_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"B:\\\\web_project_react\\\\web_car_react\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import'./account.css';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Account=function Account(props){var onLogOut=function onLogOut(){props.LogOut();};var sentDelRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var authToken,url,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://if(password.length >= 5){\nauthToken=localStorage.getItem('token');url=\"http://127.0.0.1:5000/api/v1/user/\"+localStorage.getItem('login');console.log(url);console.log(authToken);_context.next=6;return fetch(url,{method:'DELETE',headers:{'Authorization':'Bearer '+authToken}});case 6:res=_context.sent;if(res.ok){//lol = await res.json();\nalert(\"delete successful\");localStorage.setItem('token',\"null\");localStorage.setItem('login',\"null\");window.location.reload();}else{alert(\"something is wrong\");};//}\ncase 9:case\"end\":return _context.stop();}}},_callee);}));return function sentDelRequest(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"main\",{className:\"main_account\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main_head_account\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main_section_account\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"account\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your profile\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",for:\"fname\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"Username\",type:\"text\",placeholder:\"pokemon\",readonly:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",for:\"fname\",children:\"First name:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"firstName\",type:\"text\",placeholder:\"Ostap\",readonly:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",for:\"fname\",children:\"Last name:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"lastName\",type:\"text\",placeholder:\"Shcherbii\",readonly:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",for:\"fname\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",type:\"text\",placeholder:\"+380991753875\",readonly:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",for:\"fname\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"text\",placeholder:\"shchostap@gmail.com\",readonly:true}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",for:\"fname\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",readonly:true}),/*#__PURE__*/_jsx(\"button\",{onClick:sentDelRequest,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogOut,children:\"Log out\"})]})})})});};export default Account;","map":{"version":3,"names":["useState","useEffect","Account","props","onLogOut","LogOut","sentDelRequest","authToken","localStorage","getItem","url","console","log","fetch","method","headers","res","ok","alert","setItem","window","location","reload"],"sources":["B:/web_project_react/web_car_react/src/component/account/account.js"],"sourcesContent":["import './account.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst Account = (props) => {\r\n    const onLogOut = () => {\r\n        props.LogOut();\r\n    }\r\n\r\n    const sentDelRequest = async () => {\r\n        //if(password.length >= 5){\r\n            const authToken = localStorage.getItem('token');\r\n            const url =\"http://127.0.0.1:5000/api/v1/user/\" +  localStorage.getItem('login');\r\n            console.log(url); \r\n            console.log(authToken); \r\n            const res = await fetch(url, \r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': 'Bearer ' + authToken\r\n                }\r\n            });\r\n            if(res.ok){\r\n                //lol = await res.json();\r\n                alert(\"delete successful\");\r\n                localStorage.setItem('token', \"null\");\r\n                localStorage.setItem('login', \"null\");\r\n                window.location.reload();\r\n            }else{\r\n                \r\n                alert(\"something is wrong\")\r\n            }  ;\r\n             //}\r\n     }\r\n    return (\r\n<main className=\"main_account\">\r\n        <div className=\"main_head_account\">\r\n            <div className=\"main_section_account\">\r\n                <div className=\"account\">\r\n                    <h2>Your profile</h2>\r\n                    <label className = \"label\" for=\"fname\">Username:</label>\r\n                    <input id = \"Username\" type=\"text\" placeholder=\"pokemon\" readonly/>\r\n                    <label className = \"label\" for=\"fname\">First name:</label>\r\n                    <input id = \"firstName\" type=\"text\" placeholder=\"Ostap\" readonly/>\r\n                    <label className = \"label\" for=\"fname\">Last name:</label>\r\n                    <input id = \"lastName\" type=\"text\" placeholder=\"Shcherbii\" readonly/>\r\n                    <label className = \"label\" for=\"fname\">Phone:</label>\r\n                    <input id = \"phone\" type=\"text\" placeholder=\"+380991753875\" readonly/>\r\n                    <label className = \"label\" for=\"fname\">Email:</label>\r\n                    <input id = \"email\" type=\"text\" placeholder=\"shchostap@gmail.com\" readonly/>\r\n                    <label className = \"label\" for=\"fname\">Password:</label>\r\n                    <input type=\"password\" placeholder=\"Password\" readonly/>\r\n                    <button onClick={sentDelRequest}>Delete</button>\r\n                    <button onClick={onLogOut} >Log out</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </main>\r\n    )\r\n}\r\n\r\nexport default Account;"],"mappings":"0PAAA,MAAO,eAAP,CACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACvB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBD,KAAK,CAACE,MAAN,GACH,CAFD,CAIA,GAAMC,CAAAA,cAAc,0FAAG,yJACnB;AACUC,SAFS,CAEGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFH,CAGTC,GAHS,CAGJ,qCAAwCF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAHpC,CAIfE,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAC,OAAO,CAACC,GAAR,CAAYL,SAAZ,EALe,sBAMGM,CAAAA,KAAK,CAACH,GAAD,CACvB,CACII,MAAM,CAAE,QADZ,CAEIC,OAAO,CAAE,CACL,gBAAiB,UAAYR,SADxB,CAFb,CADuB,CANR,QAMTS,GANS,eAaf,GAAGA,GAAG,CAACC,EAAP,CAAU,CACN;AACAC,KAAK,CAAC,mBAAD,CAAL,CACAV,YAAY,CAACW,OAAb,CAAqB,OAArB,CAA8B,MAA9B,EACAX,YAAY,CAACW,OAAb,CAAqB,OAArB,CAA8B,MAA9B,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAND,IAMK,CAEDJ,KAAK,CAAC,oBAAD,CAAL,CACH,CAAE,CACF;AAvBc,sDAAH,kBAAdZ,CAAAA,cAAc,0CAApB,CAyBA,mBACJ,aAAM,SAAS,CAAC,cAAhB,uBACQ,YAAK,SAAS,CAAC,mBAAf,uBACI,YAAK,SAAS,CAAC,sBAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,oCADJ,cAEI,cAAO,SAAS,CAAG,OAAnB,CAA2B,GAAG,CAAC,OAA/B,uBAFJ,cAGI,cAAO,EAAE,CAAG,UAAZ,CAAuB,IAAI,CAAC,MAA5B,CAAmC,WAAW,CAAC,SAA/C,CAAyD,QAAQ,KAAjE,EAHJ,cAII,cAAO,SAAS,CAAG,OAAnB,CAA2B,GAAG,CAAC,OAA/B,yBAJJ,cAKI,cAAO,EAAE,CAAG,WAAZ,CAAwB,IAAI,CAAC,MAA7B,CAAoC,WAAW,CAAC,OAAhD,CAAwD,QAAQ,KAAhE,EALJ,cAMI,cAAO,SAAS,CAAG,OAAnB,CAA2B,GAAG,CAAC,OAA/B,wBANJ,cAOI,cAAO,EAAE,CAAG,UAAZ,CAAuB,IAAI,CAAC,MAA5B,CAAmC,WAAW,CAAC,WAA/C,CAA2D,QAAQ,KAAnE,EAPJ,cAQI,cAAO,SAAS,CAAG,OAAnB,CAA2B,GAAG,CAAC,OAA/B,oBARJ,cASI,cAAO,EAAE,CAAG,OAAZ,CAAoB,IAAI,CAAC,MAAzB,CAAgC,WAAW,CAAC,eAA5C,CAA4D,QAAQ,KAApE,EATJ,cAUI,cAAO,SAAS,CAAG,OAAnB,CAA2B,GAAG,CAAC,OAA/B,oBAVJ,cAWI,cAAO,EAAE,CAAG,OAAZ,CAAoB,IAAI,CAAC,MAAzB,CAAgC,WAAW,CAAC,qBAA5C,CAAkE,QAAQ,KAA1E,EAXJ,cAYI,cAAO,SAAS,CAAG,OAAnB,CAA2B,GAAG,CAAC,OAA/B,uBAZJ,cAaI,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,QAAQ,KAAtD,EAbJ,cAcI,eAAQ,OAAO,CAAEA,cAAjB,oBAdJ,cAeI,eAAQ,OAAO,CAAEF,QAAjB,qBAfJ,GADJ,EADJ,EADR,EADI,CAyBH,CAvDD,CAyDA,cAAeF,CAAAA,OAAf"},"metadata":{},"sourceType":"module"}