{"ast":null,"code":"'use strict';\n\nconst MongooseError = require('../../error/mongooseError');\n/*!\n * A query thunk is the function responsible for sending the query to MongoDB,\n * like `Query#_findOne()` or `Query#_execUpdate()`. The `Query#exec()` function\n * calls a thunk. The term \"thunk\" here is the traditional Node.js definition:\n * a function that takes exactly 1 parameter, a callback.\n *\n * This function defines common behavior for all query thunks.\n */\n\n\nmodule.exports = function wrapThunk(fn) {\n  return function _wrappedThunk(cb) {\n    if (this._executionStack != null) {\n      let str = this.toString();\n\n      if (str.length > 60) {\n        str = str.slice(0, 60) + '...';\n      }\n\n      const err = new MongooseError('Query was already executed: ' + str);\n      err.originalStack = this._executionStack.stack;\n      return cb(err);\n    }\n\n    this._executionStack = new Error();\n    fn.call(this, cb);\n  };\n};","map":{"version":3,"names":["MongooseError","require","module","exports","wrapThunk","fn","_wrappedThunk","cb","_executionStack","str","toString","length","slice","err","originalStack","stack","Error","call"],"sources":["B:/web_project_react/web_car_react/node_modules/mongoose/lib/helpers/query/wrapThunk.js"],"sourcesContent":["'use strict';\n\nconst MongooseError = require('../../error/mongooseError');\n\n/*!\n * A query thunk is the function responsible for sending the query to MongoDB,\n * like `Query#_findOne()` or `Query#_execUpdate()`. The `Query#exec()` function\n * calls a thunk. The term \"thunk\" here is the traditional Node.js definition:\n * a function that takes exactly 1 parameter, a callback.\n *\n * This function defines common behavior for all query thunks.\n */\n\nmodule.exports = function wrapThunk(fn) {\n  return function _wrappedThunk(cb) {\n    if (this._executionStack != null) {\n      let str = this.toString();\n      if (str.length > 60) {\n        str = str.slice(0, 60) + '...';\n      }\n      const err = new MongooseError('Query was already executed: ' + str);\n      err.originalStack = this._executionStack.stack;\n      return cb(err);\n    }\n    this._executionStack = new Error();\n\n    fn.call(this, cb);\n  };\n};"],"mappings":"AAAA;;AAEA,MAAMA,aAAa,GAAGC,OAAO,CAAC,2BAAD,CAA7B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,SAAT,CAAmBC,EAAnB,EAAuB;EACtC,OAAO,SAASC,aAAT,CAAuBC,EAAvB,EAA2B;IAChC,IAAI,KAAKC,eAAL,IAAwB,IAA5B,EAAkC;MAChC,IAAIC,GAAG,GAAG,KAAKC,QAAL,EAAV;;MACA,IAAID,GAAG,CAACE,MAAJ,GAAa,EAAjB,EAAqB;QACnBF,GAAG,GAAGA,GAAG,CAACG,KAAJ,CAAU,CAAV,EAAa,EAAb,IAAmB,KAAzB;MACD;;MACD,MAAMC,GAAG,GAAG,IAAIb,aAAJ,CAAkB,iCAAiCS,GAAnD,CAAZ;MACAI,GAAG,CAACC,aAAJ,GAAoB,KAAKN,eAAL,CAAqBO,KAAzC;MACA,OAAOR,EAAE,CAACM,GAAD,CAAT;IACD;;IACD,KAAKL,eAAL,GAAuB,IAAIQ,KAAJ,EAAvB;IAEAX,EAAE,CAACY,IAAH,CAAQ,IAAR,EAAcV,EAAd;EACD,CAbD;AAcD,CAfD"},"metadata":{},"sourceType":"script"}