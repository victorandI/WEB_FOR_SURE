{"ast":null,"code":"'use strict';\n\nconst modifiedPaths = require('./modifiedPaths');\n\nmodule.exports = function updatedPathsByArrayFilter(update) {\n  if (update == null) {\n    return {};\n  }\n\n  const updatedPaths = modifiedPaths(update);\n  return Object.keys(updatedPaths).reduce((cur, path) => {\n    const matches = path.match(/\\$\\[[^\\]]+\\]/g);\n\n    if (matches == null) {\n      return cur;\n    }\n\n    for (const match of matches) {\n      const firstMatch = path.indexOf(match);\n\n      if (firstMatch !== path.lastIndexOf(match)) {\n        throw new Error(`Path '${path}' contains the same array filter multiple times`);\n      }\n\n      cur[match.substring(2, match.length - 1)] = path.substring(0, firstMatch - 1).replace(/\\$\\[[^\\]]+\\]/g, '0');\n    }\n\n    return cur;\n  }, {});\n};","map":{"version":3,"names":["modifiedPaths","require","module","exports","updatedPathsByArrayFilter","update","updatedPaths","Object","keys","reduce","cur","path","matches","match","firstMatch","indexOf","lastIndexOf","Error","substring","length","replace"],"sources":["B:/web_project_react/web_car_react/node_modules/mongoose/lib/helpers/update/updatedPathsByArrayFilter.js"],"sourcesContent":["'use strict';\n\nconst modifiedPaths = require('./modifiedPaths');\n\nmodule.exports = function updatedPathsByArrayFilter(update) {\n  if (update == null) {\n    return {};\n  }\n  const updatedPaths = modifiedPaths(update);\n\n  return Object.keys(updatedPaths).reduce((cur, path) => {\n    const matches = path.match(/\\$\\[[^\\]]+\\]/g);\n    if (matches == null) {\n      return cur;\n    }\n    for (const match of matches) {\n      const firstMatch = path.indexOf(match);\n      if (firstMatch !== path.lastIndexOf(match)) {\n        throw new Error(`Path '${path}' contains the same array filter multiple times`);\n      }\n      cur[match.substring(2, match.length - 1)] = path.\n        substring(0, firstMatch - 1).\n        replace(/\\$\\[[^\\]]+\\]/g, '0');\n    }\n    return cur;\n  }, {});\n};"],"mappings":"AAAA;;AAEA,MAAMA,aAAa,GAAGC,OAAO,CAAC,iBAAD,CAA7B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,yBAAT,CAAmCC,MAAnC,EAA2C;EAC1D,IAAIA,MAAM,IAAI,IAAd,EAAoB;IAClB,OAAO,EAAP;EACD;;EACD,MAAMC,YAAY,GAAGN,aAAa,CAACK,MAAD,CAAlC;EAEA,OAAOE,MAAM,CAACC,IAAP,CAAYF,YAAZ,EAA0BG,MAA1B,CAAiC,CAACC,GAAD,EAAMC,IAAN,KAAe;IACrD,MAAMC,OAAO,GAAGD,IAAI,CAACE,KAAL,CAAW,eAAX,CAAhB;;IACA,IAAID,OAAO,IAAI,IAAf,EAAqB;MACnB,OAAOF,GAAP;IACD;;IACD,KAAK,MAAMG,KAAX,IAAoBD,OAApB,EAA6B;MAC3B,MAAME,UAAU,GAAGH,IAAI,CAACI,OAAL,CAAaF,KAAb,CAAnB;;MACA,IAAIC,UAAU,KAAKH,IAAI,CAACK,WAAL,CAAiBH,KAAjB,CAAnB,EAA4C;QAC1C,MAAM,IAAII,KAAJ,CAAW,SAAQN,IAAK,iDAAxB,CAAN;MACD;;MACDD,GAAG,CAACG,KAAK,CAACK,SAAN,CAAgB,CAAhB,EAAmBL,KAAK,CAACM,MAAN,GAAe,CAAlC,CAAD,CAAH,GAA4CR,IAAI,CAC9CO,SAD0C,CAChC,CADgC,EAC7BJ,UAAU,GAAG,CADgB,EAE1CM,OAF0C,CAElC,eAFkC,EAEjB,GAFiB,CAA5C;IAGD;;IACD,OAAOV,GAAP;EACD,CAfM,EAeJ,EAfI,CAAP;AAgBD,CAtBD"},"metadata":{},"sourceType":"script"}