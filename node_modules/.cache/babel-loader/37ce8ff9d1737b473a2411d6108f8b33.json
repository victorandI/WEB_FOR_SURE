{"ast":null,"code":"'use strict';\n/*!\n * Module dependencies.\n */\n\nconst ArrayMethods = require('../array/methods');\n\nconst DocumentArrayMethods = require('./methods');\n\nconst Document = require('../../document');\n\nconst arrayAtomicsSymbol = require('../../helpers/symbols').arrayAtomicsSymbol;\n\nconst arrayAtomicsBackupSymbol = require('../../helpers/symbols').arrayAtomicsBackupSymbol;\n\nconst arrayParentSymbol = require('../../helpers/symbols').arrayParentSymbol;\n\nconst arrayPathSymbol = require('../../helpers/symbols').arrayPathSymbol;\n\nconst arraySchemaSymbol = require('../../helpers/symbols').arraySchemaSymbol;\n\nconst _basePush = Array.prototype.push;\nconst numberRE = /^\\d+$/;\n/**\n * DocumentArray constructor\n *\n * @param {Array} values\n * @param {String} path the path to this array\n * @param {Document} doc parent document\n * @api private\n * @return {MongooseDocumentArray}\n * @inherits MongooseArray\n * @see https://bit.ly/f6CnZU\n */\n\nfunction MongooseDocumentArray(values, path, doc) {\n  const __array = [];\n  const internals = {\n    [arrayAtomicsSymbol]: {},\n    [arrayAtomicsBackupSymbol]: void 0,\n    [arrayPathSymbol]: path,\n    [arraySchemaSymbol]: void 0,\n    [arrayParentSymbol]: void 0\n  };\n\n  if (Array.isArray(values)) {\n    if (values[arrayPathSymbol] === path && values[arrayParentSymbol] === doc) {\n      internals[arrayAtomicsSymbol] = Object.assign({}, values[arrayAtomicsSymbol]);\n    }\n\n    values.forEach(v => {\n      _basePush.call(__array, v);\n    });\n  }\n\n  internals[arrayPathSymbol] = path;\n  internals.__array = __array; // Because doc comes from the context of another function, doc === global\n  // can happen if there was a null somewhere up the chain (see #3020 && #3034)\n  // RB Jun 17, 2015 updated to check for presence of expected paths instead\n  // to make more proof against unusual node environments\n\n  if (doc && doc instanceof Document) {\n    internals[arrayParentSymbol] = doc;\n    internals[arraySchemaSymbol] = doc.schema.path(path); // `schema.path()` doesn't drill into nested arrays properly yet, see\n    // gh-6398, gh-6602. This is a workaround because nested arrays are\n    // always plain non-document arrays, so once you get to a document array\n    // nesting is done. Matryoshka code.\n\n    while (internals[arraySchemaSymbol] != null && internals[arraySchemaSymbol].$isMongooseArray && !internals[arraySchemaSymbol].$isMongooseDocumentArray) {\n      internals[arraySchemaSymbol] = internals[arraySchemaSymbol].casterConstructor;\n    }\n  }\n\n  const proxy = new Proxy(__array, {\n    get: function (target, prop) {\n      if (prop === 'isMongooseArray' || prop === 'isMongooseArrayProxy' || prop === 'isMongooseDocumentArray' || prop === 'isMongooseDocumentArrayProxy') {\n        return true;\n      }\n\n      if (internals.hasOwnProperty(prop)) {\n        return internals[prop];\n      }\n\n      if (DocumentArrayMethods.hasOwnProperty(prop)) {\n        return DocumentArrayMethods[prop];\n      }\n\n      if (ArrayMethods.hasOwnProperty(prop)) {\n        return ArrayMethods[prop];\n      }\n\n      return __array[prop];\n    },\n    set: function (target, prop, value) {\n      if (typeof prop === 'string' && numberRE.test(prop)) {\n        DocumentArrayMethods.set.call(proxy, prop, value, false);\n      } else if (internals.hasOwnProperty(prop)) {\n        internals[prop] = value;\n      } else {\n        __array[prop] = value;\n      }\n\n      return true;\n    }\n  });\n  return proxy;\n}\n/*!\n * Module exports.\n */\n\n\nmodule.exports = MongooseDocumentArray;","map":{"version":3,"names":["ArrayMethods","require","DocumentArrayMethods","Document","arrayAtomicsSymbol","arrayAtomicsBackupSymbol","arrayParentSymbol","arrayPathSymbol","arraySchemaSymbol","_basePush","Array","prototype","push","numberRE","MongooseDocumentArray","values","path","doc","__array","internals","isArray","Object","assign","forEach","v","call","schema","$isMongooseArray","$isMongooseDocumentArray","casterConstructor","proxy","Proxy","get","target","prop","hasOwnProperty","set","value","test","module","exports"],"sources":["B:/web_project_react/web_car_react/node_modules/mongoose/lib/types/DocumentArray/index.js"],"sourcesContent":["'use strict';\n\n/*!\n * Module dependencies.\n */\n\nconst ArrayMethods = require('../array/methods');\nconst DocumentArrayMethods = require('./methods');\nconst Document = require('../../document');\n\nconst arrayAtomicsSymbol = require('../../helpers/symbols').arrayAtomicsSymbol;\nconst arrayAtomicsBackupSymbol = require('../../helpers/symbols').arrayAtomicsBackupSymbol;\nconst arrayParentSymbol = require('../../helpers/symbols').arrayParentSymbol;\nconst arrayPathSymbol = require('../../helpers/symbols').arrayPathSymbol;\nconst arraySchemaSymbol = require('../../helpers/symbols').arraySchemaSymbol;\n\nconst _basePush = Array.prototype.push;\nconst numberRE = /^\\d+$/;\n/**\n * DocumentArray constructor\n *\n * @param {Array} values\n * @param {String} path the path to this array\n * @param {Document} doc parent document\n * @api private\n * @return {MongooseDocumentArray}\n * @inherits MongooseArray\n * @see https://bit.ly/f6CnZU\n */\n\nfunction MongooseDocumentArray(values, path, doc) {\n  const __array = [];\n\n  const internals = {\n    [arrayAtomicsSymbol]: {},\n    [arrayAtomicsBackupSymbol]: void 0,\n    [arrayPathSymbol]: path,\n    [arraySchemaSymbol]: void 0,\n    [arrayParentSymbol]: void 0\n  };\n\n  if (Array.isArray(values)) {\n    if (values[arrayPathSymbol] === path &&\n        values[arrayParentSymbol] === doc) {\n      internals[arrayAtomicsSymbol] = Object.assign({}, values[arrayAtomicsSymbol]);\n    }\n    values.forEach(v => {\n      _basePush.call(__array, v);\n    });\n  }\n  internals[arrayPathSymbol] = path;\n  internals.__array = __array;\n\n  // Because doc comes from the context of another function, doc === global\n  // can happen if there was a null somewhere up the chain (see #3020 && #3034)\n  // RB Jun 17, 2015 updated to check for presence of expected paths instead\n  // to make more proof against unusual node environments\n  if (doc && doc instanceof Document) {\n    internals[arrayParentSymbol] = doc;\n    internals[arraySchemaSymbol] = doc.schema.path(path);\n\n    // `schema.path()` doesn't drill into nested arrays properly yet, see\n    // gh-6398, gh-6602. This is a workaround because nested arrays are\n    // always plain non-document arrays, so once you get to a document array\n    // nesting is done. Matryoshka code.\n    while (internals[arraySchemaSymbol] != null &&\n        internals[arraySchemaSymbol].$isMongooseArray &&\n        !internals[arraySchemaSymbol].$isMongooseDocumentArray) {\n      internals[arraySchemaSymbol] = internals[arraySchemaSymbol].casterConstructor;\n    }\n  }\n\n  const proxy = new Proxy(__array, {\n    get: function(target, prop) {\n      if (prop === 'isMongooseArray' ||\n          prop === 'isMongooseArrayProxy' ||\n          prop === 'isMongooseDocumentArray' ||\n          prop === 'isMongooseDocumentArrayProxy') {\n        return true;\n      }\n      if (internals.hasOwnProperty(prop)) {\n        return internals[prop];\n      }\n      if (DocumentArrayMethods.hasOwnProperty(prop)) {\n        return DocumentArrayMethods[prop];\n      }\n      if (ArrayMethods.hasOwnProperty(prop)) {\n        return ArrayMethods[prop];\n      }\n\n      return __array[prop];\n    },\n    set: function(target, prop, value) {\n      if (typeof prop === 'string' && numberRE.test(prop)) {\n        DocumentArrayMethods.set.call(proxy, prop, value, false);\n      } else if (internals.hasOwnProperty(prop)) {\n        internals[prop] = value;\n      } else {\n        __array[prop] = value;\n      }\n\n      return true;\n    }\n  });\n\n  return proxy;\n}\n\n/*!\n * Module exports.\n */\n\nmodule.exports = MongooseDocumentArray;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}