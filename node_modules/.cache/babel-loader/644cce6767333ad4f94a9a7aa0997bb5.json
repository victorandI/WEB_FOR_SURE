{"ast":null,"code":"'use strict';\n\nconst get = require('../get');\n\nconst mpath = require('mpath');\n\nconst parseProjection = require('../projection/parseProjection');\n/*!\n * ignore\n */\n\n\nmodule.exports = function removeDeselectedForeignField(foreignFields, options, docs) {\n  const projection = parseProjection(get(options, 'select', null), true) || parseProjection(get(options, 'options.select', null), true);\n\n  if (projection == null) {\n    return;\n  }\n\n  for (const foreignField of foreignFields) {\n    if (!projection.hasOwnProperty('-' + foreignField)) {\n      continue;\n    }\n\n    for (const val of docs) {\n      if (val.$__ != null) {\n        mpath.unset(foreignField, val._doc);\n      } else {\n        mpath.unset(foreignField, val);\n      }\n    }\n  }\n};","map":{"version":3,"names":["get","require","mpath","parseProjection","module","exports","removeDeselectedForeignField","foreignFields","options","docs","projection","foreignField","hasOwnProperty","val","$__","unset","_doc"],"sources":["B:/web_project_react/web_car_react/node_modules/mongoose/lib/helpers/populate/removeDeselectedForeignField.js"],"sourcesContent":["'use strict';\n\nconst get = require('../get');\nconst mpath = require('mpath');\nconst parseProjection = require('../projection/parseProjection');\n\n/*!\n * ignore\n */\n\nmodule.exports = function removeDeselectedForeignField(foreignFields, options, docs) {\n  const projection = parseProjection(get(options, 'select', null), true) ||\n    parseProjection(get(options, 'options.select', null), true);\n\n  if (projection == null) {\n    return;\n  }\n  for (const foreignField of foreignFields) {\n    if (!projection.hasOwnProperty('-' + foreignField)) {\n      continue;\n    }\n\n    for (const val of docs) {\n      if (val.$__ != null) {\n        mpath.unset(foreignField, val._doc);\n      } else {\n        mpath.unset(foreignField, val);\n      }\n    }\n  }\n};"],"mappings":"AAAA;;AAEA,MAAMA,GAAG,GAAGC,OAAO,CAAC,QAAD,CAAnB;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,MAAME,eAAe,GAAGF,OAAO,CAAC,+BAAD,CAA/B;AAEA;AACA;AACA;;;AAEAG,MAAM,CAACC,OAAP,GAAiB,SAASC,4BAAT,CAAsCC,aAAtC,EAAqDC,OAArD,EAA8DC,IAA9D,EAAoE;EACnF,MAAMC,UAAU,GAAGP,eAAe,CAACH,GAAG,CAACQ,OAAD,EAAU,QAAV,EAAoB,IAApB,CAAJ,EAA+B,IAA/B,CAAf,IACjBL,eAAe,CAACH,GAAG,CAACQ,OAAD,EAAU,gBAAV,EAA4B,IAA5B,CAAJ,EAAuC,IAAvC,CADjB;;EAGA,IAAIE,UAAU,IAAI,IAAlB,EAAwB;IACtB;EACD;;EACD,KAAK,MAAMC,YAAX,IAA2BJ,aAA3B,EAA0C;IACxC,IAAI,CAACG,UAAU,CAACE,cAAX,CAA0B,MAAMD,YAAhC,CAAL,EAAoD;MAClD;IACD;;IAED,KAAK,MAAME,GAAX,IAAkBJ,IAAlB,EAAwB;MACtB,IAAII,GAAG,CAACC,GAAJ,IAAW,IAAf,EAAqB;QACnBZ,KAAK,CAACa,KAAN,CAAYJ,YAAZ,EAA0BE,GAAG,CAACG,IAA9B;MACD,CAFD,MAEO;QACLd,KAAK,CAACa,KAAN,CAAYJ,YAAZ,EAA0BE,GAA1B;MACD;IACF;EACF;AACF,CApBD"},"metadata":{},"sourceType":"script"}